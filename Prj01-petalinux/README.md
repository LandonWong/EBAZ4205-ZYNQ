# Project 01: PetaLinux
## wangsongyue18@mails.ucas.ac.cn
# Description
Last Modified: Aug.2, 2020\
PetaLinux是Xilinx公司为Zynq嵌入式处理器核的PS核心(dual ARM-Cortex-A9)裁剪设计的嵌入式linux系统。本项目移植了黑金AX7010的petalinux项目，使之在开发板`EBAZ4205`(芯片型号`ZYNQ XC7Z010 CLG400-1`)上运行。
您只需要一张SD卡和开发板`EBAZ4205`，不需要Jtag即可体验。
# Usage
1. **板卡改造**\
改为SD卡启动：将开发板`EBAZ4205`改为SD卡启动模式。（默认为NAND启动，若您没有修改过硬件，需要将R2584移焊到R2577处）\
焊接串口排针：在板子J7处，VCC无需焊接。\
焊接SD卡卡槽：若无卡槽，需要自行焊接。
2. **镜像烧写**\
本项目提供了已经制作好的`uboot`文件(`image.ub`)和镜像`BOOT.BIN`。您只需要准备一个格式为`FAT32`的SD卡，将这两个文件复制到卡内即可。然后将SD卡插入板卡。（插入前请勿通电）
3. **串口连接**\
本项目通过串口控制，您需要一个USB串口转接板将板卡与电脑连接。（VCC无需连接，但GND必须连接）\
（windows）通过`我的电脑-管理-设备管理器`，您可以查看具体分配到哪个串口(COM)。（Linux）打印设备信息即可查询。\
然后打开串口调试软件，连接串口，设置波特率为115200，8位数据位，无校验位，1位停止位。读写信息均使用`ASCII`编码。\
连接完成后，启动板卡。（注意：仅连接串口后板卡就上电属于正常现象，不会烧坏板子）
4. **启动板卡**\
此时`uboot`已经启动，将会打印引导信息。加载系统内核完毕后，将会提示登陆。用户名：`root`，密码：`root`。\
注意：若出现OV模块加载的ERROR，可不予理会（为方便后续实验，集成了摄像头驱动模块，没有放在本项目中）。若没有出现登陆提示，则请比对boot.log发现问题。
5. **LAN口连接**（可选）\
将板卡百兆以太网口与电脑或路由器连接，在串口命令行界面输入命令`# ifconfig`查看ip地址。然后将电脑网卡的ip调至同一网段（ip地址的前三项相同，否则ping不通）。\
在Linux终端或Windows CMD下执行`ping <board_ip>`。ping通后，通过Telnet连接（Windows可使用PUTTY工具，Linux使用Telnet命令即可）。登录后即可继续使用。
# Q&A
若启动遇到问题，请通过邮件咨询作者。未经作者允许，请勿转载。（个人使用不受限制）
